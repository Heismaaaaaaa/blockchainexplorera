var chainListDropDown;function dropDownStatic(e){if("static"===e.target.dataset.bsDisplay){let t=e.target.nextElementSibling;t.classList.add("dropdown-menu-end"),t.removeAttribute("style"),t.getBoundingClientRect().left<0&&(t.classList.remove("dropdown-menu-end"),window.screen.availWidth<(window.innerWidth||document.documentElement.clientWidth)&&(t.style.left=`-${(window.innerWidth||document.documentElement.clientWidth)-window.screen.availWidth+5}px`))}}function initHeader(){window.addEventListener("scroll",(function(){const e=document.querySelector(".js-sticky-header");e&&e.classList.contains("sticky-top")&&(window.scrollY>0?e.classList.add("bg-white","border-bottom"):e.classList.remove("bg-white","border-bottom"))}))}function onClickTransactionDetailChangePage(e,t){let n=document.getElementById("TransactionDetail-"+e);if(n){let e=n.dataset.currentaddress,r=n.dataset.totalitem,o=n.dataset.pagesize,a=n.dataset.chainids,i=n.parentElement.dataset.txtypes,s=n.parentElement.dataset.istoken,l=n.parentElement.dataset.filteraddress,d=n.parentElement.dataset.filteraddresstype,c=n.parentElement.dataset.filterhideunverified,u=n.parentElement;u.classList.add("is-loading"),$.ajax({url:"/Api/GetTransactionDetail",type:"GET",data:{address:e,pageSize:o,pageNo:t,totalItems:r,trackTotalHits:!1,chainIds:a,txTypes:i,isToken:s,filterAddress:l,filterAddressType:d,hideUnverified:c}}).done((function(e){let t=n.parentElement.parentElement.parentElement.parentElement.querySelector('[role="tablist"]');n.outerHTML=e;try{reInitialiseTooltip(),clipboardInitialize(".js-clipboard"),blockieImageInitialize(),genericImageErrorHandling()}catch{}u.classList.remove("is-loading"),setTimeout((()=>{t.scrollIntoView({behavior:"smooth",block:"start"})}),100)})).fail((function(){toastError(toastPageLoadingError,(function(){u.classList.remove("is-loading")}))}))}}function onClickTransactionDetailChangePageSize(e,t){let n=document.getElementById("TransactionDetail-"+e);if(n){let e=n.dataset.currentaddress,r=n.dataset.totalitem,o=n.dataset.chainids,a=n.parentElement.dataset.txtypes,i=n.parentElement.dataset.filterhideunverified,s=n.parentElement.dataset.istoken,l=n.parentElement.dataset.filteraddress,d=n.parentElement.dataset.filteraddresstype,c=n.parentElement;c.classList.add("is-loading"),$.ajax({url:"/Api/GetTransactionDetail",type:"GET",data:{address:e,pageSize:t,pageNo:1,totalItems:r,trackTotalHits:!1,chainIds:o,txTypes:a,isToken:s,filterAddress:l,filterAddressType:d,hideUnverified:i}}).done((function(e){var t=n.parentElement.parentElement.parentElement.parentElement.querySelector('[role="tablist"]');n.outerHTML=e;try{reInitialiseTooltip(),clipboardInitialize(".js-clipboard"),blockieImageInitialize(),genericImageErrorHandling()}catch{}c.classList.remove("is-loading"),setTimeout((()=>{t.scrollIntoView({behavior:"smooth",block:"start"})}),100)})).fail((function(){toastError(toastPageLoadingError,(function(){c.classList.remove("is-loading")}))}))}}function onClickTransactionExportToExcel(e){let t=document.getElementById("Transaction-"+e),n=t.dataset.currentaddress;onClickExportToExcelJson(t.querySelector(".export-data").value,"export-"+n)}function onClickResetAddressFilter(e,t){e.parentElement.querySelector(".inp-address-filter").setAttribute("value",""),onClickTransactionAddressFilterApply(t)}function formsubmitTransactionAddressFilterApply(e,t){e.preventDefault(),onClickTransactionAddressFilterApply(t)}function onClickTransactionAddressFilterApply(e){let t=document.getElementById("Transaction-"+e);if(t){t.classList.add("is-loading");let n=t.dataset.currentaddress,r=t.dataset.currentchain,o=t.dataset.txtypes,a=t.dataset.istoken,i=t.dataset.chainids,s=t.querySelector(".inp-address-filter"),l=t.querySelector(".sel-address-filter");history.replaceState("",document.title,updateURLParameter(window.location.href,"filteraddress",s.value)),$.ajax({url:"/Api/GetTransaction",type:"GET",data:{address:n,chainIds:i,txTypes:o,isToken:a,filterAddress:s.value,filterAddressType:l.value,currentChain:r}}).done((function(n){document.getElementById("Transaction-"+e).outerHTML=n;try{reInitialiseTooltip(),clipboardInitialize(".js-clipboard"),initChainDropDownSearch(),blockieImageInitialize(),genericImageErrorHandling()}catch{}document.getElementById("dropdownChains")?.addEventListener("shown.bs.dropdown",(e=>{dropDownStatic(e)})),t.classList.remove("is-loading")})).fail((function(){toastError(toastPageLoadingError,(function(){t.classList.remove("is-loading")}))}))}}function onClickTransactionFilterApply(e){let t=document.getElementById("Transaction-"+e);if(t){t.classList.add("is-loading");let n=t.dataset.currentaddress,r=t.dataset.currentchain,o="",a=t.dataset.istoken,i=t.dataset.chainids,s=t.dataset.filteraddress,l=t.dataset.filteraddresstype;const d=t.querySelector("#dropdown-transaction-filter"),c=d.querySelector("#transaction-filter-txtypes").querySelectorAll(".js-list-item-checkbox:checked"),u=[];c.forEach((e=>{u.push(e.dataset.txtypes)})),o=u.join(", ");const m=d.querySelector(".dropdown-toogle");m&&m.classList.contains("show")&&m.classList.remove("show");const p=d.querySelector(".dropdown-menu");p&&p.classList.contains("show")&&p.classList.remove("show");const g=t.querySelector("#inpChkBadRep0").checked;$.ajax({url:"/Api/GetTransaction",type:"GET",data:{address:n,chainIds:i,txTypes:o,isToken:a,filterAddress:s,filterAddressType:l,currentChain:r,hideUnverified:g}}).done((function(n){document.getElementById("Transaction-"+e).outerHTML=n;try{reInitialiseTooltip(),clipboardInitialize(".js-clipboard"),initChainDropDownSearch(),blockieImageInitialize(),genericImageErrorHandling()}catch{}document.getElementById("dropdownChains")?.addEventListener("shown.bs.dropdown",(e=>{dropDownStatic(e)})),t.classList.remove("is-loading")})).fail((function(){toastError(toastPageLoadingError,(function(){t.classList.remove("is-loading")}))}))}}function onClickTransactionFilterItem(e){var t=e.parentElement.parentElement.parentElement.parentElement,n=t.querySelectorAll('input[type="checkbox"]:checked.js-list-item-checkbox');t.parentElement.querySelector(".js-list-count").textContent="("+n.length+")"}function onClickTransactionFilterItemAll(e){var t=e.parentElement.parentElement.parentElement.parentElement.parentElement,n=t.querySelectorAll(".js-list-item-checkbox"),r=t.parentElement.querySelector(".js-list-count");e.checked?(n.forEach((e=>{e.checked=!0})),r.textContent="("+n.length+")"):(n.forEach((e=>{e.checked=!1})),r.textContent="(0)")}function onClickTransactionChainApply(e){let t=document.getElementById("Transaction-"+e);if(t){t.classList.add("is-loading"),chainListDropDown.search();let n=t.dataset.currentaddress,r=t.dataset.currentchain,o=t.dataset.txtypes,a=t.dataset.istoken,i=t.dataset.filteraddress,s=t.dataset.filteraddresstype,l=t.dataset.filterhideunverified,d=[],c=!1,u=document.querySelector("#availableChains .tab-pane.active");u?c=u.dataset.isCluster:u=document.querySelector("#Transaction-chain-"+e);let m=u.querySelectorAll('input[type="checkbox"]:not(.js-list-all-checkbox)');for(let e=0;e<m.length;e++)if(m[e].checked){let t=m[e].dataset.chainid;if("all"==t)break;d.push(t)}const p=t.querySelector("#dropdown-chain-filter"),g=p.querySelector(".dropdown-toogle");g&&g.classList.contains("show")&&g.classList.remove("show");const h=p.querySelector(".dropdown-menu");h&&h.classList.contains("show")&&h.classList.remove("show"),$.ajax({url:"/Api/GetTransaction",type:"GET",data:{address:n,chainIds:d.join(","),txTypes:o,isToken:a,filterAddress:i,filterAddressType:s,currentChain:r,hideUnverified:l,isCluster:c}}).done((function(n){document.getElementById("Transaction-"+e).outerHTML=n;try{reInitialiseTooltip(),clipboardInitialize(".js-clipboard"),initChainDropDownSearch(),blockieImageInitialize(),genericImageErrorHandling()}catch{}t.classList.remove("is-loading"),document.getElementById("dropdownChains")?.addEventListener("shown.bs.dropdown",(e=>{dropDownStatic(e)}))})).fail((function(){toastError(toastPageLoadingError,(function(){t.classList.remove("is-loading")}))}))}}function onClickTransactionChainItem(e){let t=e.parentElement.parentElement.parentElement.parentElement,n=t.querySelectorAll(".address-transaction-chain"),r=t.querySelectorAll('input[type="checkbox"]:checked.address-transaction-chain'),o=document.querySelector("#dropdown-chain-filter .js-list-count");o.textContent="("+r.length+")";let a=t.querySelector(".js-list-all-checkbox");a&&(n.length==r.length?a.checked=!0:a.checked=!1),n.length!=r.length&&0!=r.length||(o.textContent="")}function onClickTransactionChainItemAll(e){let t=e.parentElement.parentElement.parentElement.parentElement.parentElement.querySelectorAll(".address-transaction-chain");document.querySelector("#dropdown-chain-filter .js-list-count").textContent="",e.checked?t.forEach((e=>{e.checked=!0})):t.forEach((e=>{e.checked=!1}))}function onClickTransactionHolderChangePage(e){let t=document.getElementById("Transaction-Holder");if(t){let r=t.dataset.currentaddress,o=t.dataset.pagesize,a=t.dataset.chainid;var n=t.parentElement;n.classList.add("is-loading"),$.ajax({url:"/Api/GetTransactionHolder",type:"GET",data:{address:r,pageSize:o,pageNo:e,chainId:a}}).done((function(e){let r=t.parentElement.parentElement.parentElement.parentElement.querySelector('[role="tablist"]');document.getElementById("Transaction-Holder").outerHTML=e;try{reInitialiseTooltip(),clipboardInitialize(".js-clipboard"),blockieImageInitialize(),genericImageErrorHandling()}catch{}document.getElementById("dropdownChains")?.addEventListener("shown.bs.dropdown",(e=>{dropDownStatic(e)})),n.classList.remove("is-loading"),setTimeout((()=>{r.scrollIntoView({behavior:"smooth",block:"start"})}),100)})).fail((function(){toastError(toastPageLoadingError,(function(){n.classList.remove("is-loading")}))}))}}function onClickTransactionHolderChangePageSize(e){let t=document.getElementById("Transaction-Holder");if(t){let n=t.dataset.currentaddress,r=t.dataset.chainid,o=t.parentElement;o.classList.add("is-loading"),$.ajax({url:"/Api/GetTransactionHolder",type:"GET",data:{address:n,pageSize:e,pageNo:1,chainId:r}}).done((function(e){let n=t.parentElement.parentElement.parentElement.parentElement.querySelector('[role="tablist"]');document.getElementById("Transaction-Holder").outerHTML=e,reInitialiseTooltip(),clipboardInitialize(".js-clipboard"),blockieImageInitialize(),genericImageErrorHandling(),document.getElementById("dropdownChains")?.addEventListener("shown.bs.dropdown",(e=>{dropDownStatic(e)})),o.classList.remove("is-loading"),setTimeout((()=>{n.scrollIntoView({behavior:"smooth",block:"start"})}),100)})).fail((function(){toastError(toastPageLoadingError,(function(){o.classList.remove("is-loading")}))}))}}function clipboardInitialize(e){const t=document.querySelectorAll(e);let n=0;t.forEach((function(e){n++;const t=`linkIcon_${n}_${Math.random().toString(36).substring(2,7)}`,r=JSON.parse(e.getAttribute("data-hs-clipboard-options"));r.classChangeTarget=`#${t}`,e.setAttribute("data-hs-clipboard-options",JSON.stringify(r)),e.querySelector("i").id=t})),HSCore.components.HSClipboard.init(e)}function blockieImageInitialize(){document.querySelectorAll(".blockie-img").forEach((e=>{let t=e.dataset.address;if(t){t.startsWith("0x")||(t="0x"+t);let n=blockies.create({seed:t.toLowerCase(),size:8,scale:16}).toDataURL();e.src=n}}))}function genericImageErrorHandling(e=null){function t(e,t){e.onerror=function(){this.src=t,this.onerror=null},isFirefox()?e.complete||e.addEventListener("error",(function(e){e.target.src=t,e.onerror=null})):e.complete&&0==e.naturalWidth&&(e.src=t,e.onerror=null)}function n(e,t,n,r){let o=e.dataset.tokenalt,a="";return e.dataset.bsOriginalTitle&&(a=`${a} data-bs-original-title='${e.dataset.bsOriginalTitle}' `),e.dataset.bsPlacement&&(a=`${a} data-bs-placement='${e.dataset.bsPlacement}' `),e.dataset.bsToggle&&(a=`${a} data-bs-toggle='${e.dataset.bsToggle}' `),`\n        <div class="${t}"\n          style="${n}"\n          ${a}\n          >\n        <div class="${r}">${o}</div>\n      </div>\n        `}function r(e,t){e.onerror=function(){o(e.parentElement),e.outerHTML=t,reInitialiseTooltip(e)},isFirefox()?e.complete||e.addEventListener("error",(function(n){o(n.target.parentElement),n.target.outerHTML=t,reInitialiseTooltip(e)})):e.complete&&0==e.naturalWidth&&(o(e.parentElement),e.outerHTML=t,reInitialiseTooltip(e))}function o(e){e.classList.add("d-flex"),e.classList.add("align-items-center"),e.classList.add("gap-1"),e.classList.remove("pt-0.5")}null==e&&(e=document),e.querySelectorAll(".bundle-image-js").forEach((e=>{try{let t=generateBundleImage(e.dataset.id,e.dataset.bigimage);e.outerHTML=t}catch{}})),e.querySelectorAll(".explorer-img").forEach((e=>{try{e.classList.remove("explorer-img"),t(e,addCacheBuster("/assets/svg/empty-token.svg"))}catch{}})),e.querySelectorAll(".generic-img").forEach((e=>{try{e.classList.remove("generic-img"),t(e,addCacheBuster("https://images.blockscan.com/chain-logos/empty-chain.svg"))}catch{}})),e.querySelectorAll(".platform-img").forEach((e=>{try{e.classList.remove("platform-img"),t(e,addCacheBuster("/assets/svg/empty-token.svg"))}catch{}})),e.querySelectorAll(".token-img").forEach((e=>{try{e.classList.remove("token-img"),r(e,n(e,"content-center bg-secondary bg-opacity-25 border border-dark dark:border-white border-opacity-15 rounded-circle mt-n0.5","height: 18px; width: 18px;","fs-60x text-dark fw-medium px-0.5"))}catch{}})),e.querySelectorAll(".search-token-img").forEach((e=>{try{e.classList.remove("search-token-img"),r(e,n(e,"content-center bg-secondary bg-opacity-15 border rounded-circle","height: 22px; width: 22px;","fs-70x text-muted fw-medium px-0.5"))}catch{}})),e.querySelectorAll(".js-image-token").forEach((e=>{try{e.classList.remove("js-image-token");let t=e.dataset.jsImg.split(","),r=e.dataset.jsWrapper,a=`height: ${e.dataset.jsWidth}px; width: ${e.dataset.jsWidth}px;`,i=e.dataset.jsFont;e.removeAttribute("data-js-img"),loadImageWithTimeout(t,3e3).then((t=>{e.src=addCacheBuster(t)})).catch((t=>{var s=n(e,r,a,i);o(e.parentElement),e.outerHTML=s,reInitialiseTooltip(e)}))}catch{}})),e.querySelectorAll(".js-image-transaction-token").forEach((e=>{try{e.classList.remove("js-image-transaction-token");var t=e.dataset.jsImg.split(",");e.removeAttribute("data-js-img"),loadImageWithTimeout(t,3e3).then((t=>{e.src=addCacheBuster(t)})).catch((t=>{var r=n(e,"content-center bg-secondary bg-opacity-25 border border-dark dark:border-white border-opacity-15 rounded-circle mt-n0.5","height: 32px; width: 32px;","fs-60x text-dark fw-medium px-0.5");o(e.parentElement),e.outerHTML=r,reInitialiseTooltip(e)}))}catch{}}))}function addCacheBuster(e){if(""===e)return e;if(e.includes("v="))return e;const t=`v=${window.imageVersion}`;return e.includes("?")?`${e}&${t}`:`${e}?${t}`}function loadImageWithTimeout(e,t){return new Promise(((n,r)=>{let o=!1,a=[];e.map(addCacheBuster).forEach((e=>{const t=new Image;a.push(t),t.onload=()=>{o||(o=!0,n(e)),a.forEach((e=>e.src=""))},t.onerror=()=>{},t.src=e})),setTimeout((()=>{o||(o=!0,a.forEach((e=>e.src="")),r("Timeout: No image could be loaded within the specified time."))}),t)}))}function isFirefox(){return"undefined"!=typeof InstallTrigger}function onClickExportToExcel(e,t){let n=document.getElementById(e),r=JSON.parse(n.value),o="data:text/csv;charset=utf-8,";r.forEach((function(e){let t=e.join(",");o+=t+"\r\n"}));let a=encodeURI(o),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download",t+".csv"),document.body.appendChild(i),i.click()}function onClickExportToExcelJson(e,t){let n=JSON.parse(e);if(!Array.isArray(n))return;let r="",o=Object.keys(n[0]);r+=o.join(",")+"\r\n",n.forEach((function(e){let t=o.map((t=>{return"string"==typeof(n=e[t])&&((n=n.replace(/"/g,'""')).indexOf(",")>=0||n.indexOf("\n")>=0)&&(n=`"${n}"`),n;var n}));r+=t.join(",")+"\r\n"}));let a=new Blob([r]),i=document.createElement("a"),s=URL.createObjectURL(a);i.setAttribute("href",s),i.setAttribute("download",t+".csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}function onDropDownSearchChange(e){let t=e.parentElement.parentElement.parentElement,n=e.value.toLowerCase(),r=t.querySelectorAll(".dropdown-item");""!=n&&null!=n||r.forEach((e=>{e.classList.contains("d-none")&&e.classList.remove("d-none")})),r.forEach((e=>{e.querySelector(".form-check-input").dataset.search.toLowerCase().includes(n)?e.classList.contains("d-none")&&e.classList.remove("d-none"):e.classList.contains("d-none")||e.classList.add("d-none")}))}function onDropDownReset(e){let t=e.parentElement.parentElement.parentElement;t.querySelectorAll(".dropdown-item").forEach((e=>{e.classList.contains("d-none")&&e.classList.remove("d-none"),e.querySelector(".form-check-input").checked=!1}));let n=t.querySelector(".search");n&&(n.value="");let r=t.querySelector(".js-list-count");r&&(r.textContent="")}function onDropDownResetNoParent(e){let t=e;t.querySelectorAll(".dropdown-item").forEach((e=>{e.classList.contains("d-none")&&e.classList.remove("d-none"),e.querySelector(".form-check-input").checked=!1}));let n=t.querySelector(".search");n&&(n.value="");let r=t.querySelector(".js-list-count");r&&(r.textContent="")}function onTransactionDropDownReset(e,t){onDropDownReset(e),onClickTransactionFilterApply(t)}function onChainDropDownReset(e,t){onDropDownReset(e),chainListDropDown.search(),onClickTransactionChainApply(t)}function initChainDropDownSearch(){if(document.querySelector("#availableChains")){(chainListDropDown=new List("availableChains",{valueNames:["list-name","list-symbol"]})).on("searchComplete",(function(e){0==e.matchingItems.length?$(".list-not-found").show():$(".list-not-found").hide()}))}}function updateURLParameter(e,t,n){var r="",o=e.split("#"),a=o[0].split("?"),i=a[0],s=a[1],l="";if(s){a=s.split("&");for(var d=0;d<a.length;d++)a[d].split("=")[0]!=t&&(r+=l+a[d],l="&")}var c="",u="",m="";return o[1]&&(m="#"+o[1]),n&&(c=l+""+t+"="+n),(n||r)&&(u="?"),i+u+r+c+m}function reInitialiseTooltip(e){e?e.querySelectorAll('[data-bs-toggle="tooltip"]').forEach((e=>{disposeAndReinitializeTooltip(e)})):document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach((e=>{disposeAndReinitializeTooltip(e)}))}function disposeAndReinitializeTooltip(e){const t=bootstrap.Tooltip.getInstance(e);t&&t.dispose(),new bootstrap.Tooltip(e)}function convertUtf8ToHex(e){const t=(new TextEncoder).encode(e);let n="";return t.forEach((e=>{n+=e.toString(16).padStart(2,"0")})),n}window.imageVersion="1.0.0.0",ScrollElementIntoView=e=>e.scrollIntoView({behavior:"smooth",block:"start"}),ScrollElementIntoViewById=e=>{var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},ShowBootstrapTabById=e=>{document.getElementById(e)&&new bootstrap.Tab(document.getElementById(e)).show()},ToogleDropDown=e=>{bootstrap.Dropdown.getInstance(e).hide()},ToogleDropDownById=e=>{bootstrap.Dropdown.getInstance(document.getElementById(e)).hide()};const toastPageLoadingError="Something went wrong while fetching the data. Please try again.";function toastError(e,t){let n=document.querySelector(".toast-container");if(n){let r=guidGenerator(),o=`\n                <div id="${r}" class="toast mb-1" role="alert" aria-live="assertive" aria-atomic="true">\n                  <div class="toast-body d-flex align-items-baseline gap-3 px-4">\n                    <div>\n                      <div class="fs-6 text-danger fw-medium mb-2">\n                        <i class="fas fa-circle-exclamation text-danger me-1"></i> Error\n                      </div>\n                      <div class="fs-sm mb-1">${e}</div>\n                    </div>\n\n                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>\n                  </div>\n                </div>\n                  `;n.innerHTML+=o;let a=document.getElementById(r),i=bootstrap.Toast.getOrCreateInstance(a,{autohide:!1,delay:5e3});a.addEventListener("hidden.bs.toast",(function(){a.remove(),t&&t()})),i.show()}}function guidGenerator(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function getFixedValueFromGuid(e,t){let n=e.replace(/[^0-9]/g,"");return n.length>6&&(n=n.slice(-6)),n%t}function setCookie(e,t,n){let r="";if(n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),r="; expires="+e.toUTCString()}document.cookie=e+"="+encodeURIComponent(t)+r+";Secure; SameSite=Strict; path=/"}function getCookie(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let r=n[e].trim();if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length))}return null}function isValidEthereumAddress(e){return/^0x[a-fA-F0-9]{40}$/.test(e)}function isValidSolanaAddress(e){return/^[1-9A-HJ-NP-Za-km-z]{43,44}$/.test(e)}function isValidAddress(e){return isValidEthereumAddress(e)||isValidSolanaAddress(e)}function formatNumber(e,t=!1,n=!1,r=null){if(e>=1e8){const t=["","K","M","B","T","> 999 T"];let r=0,o=e;for(;o>=1e3&&r<t.length-1;)o/=1e3,r++;if(r>=5)return n?"> $999 T":t[r];let a=o.toFixed(2);return n&&0===r||(a=trailingDoubleZero(a)),(n?"$":"")+a+" "+t[r]}if(e>=10)return n?`$${e.toLocaleString(void 0,{minimumFractionDigits:t?0:2,maximumFractionDigits:t?0:2})}`:e.toLocaleString(void 0,{minimumFractionDigits:t?0:2,maximumFractionDigits:t?0:2});if(e>=1)return n?`$${e.toLocaleString(void 0,{minimumFractionDigits:t?0:2,maximumFractionDigits:r||4})}`:e.toLocaleString(void 0,{minimumFractionDigits:t?0:2,maximumFractionDigits:r||4});if(0===e)return n?"$0.00":"0";let o=n?e.toFixed(2):e.toLocaleString(void 0,{minimumFractionDigits:9});return o=trailingZero(o),"0"===o?o=n?"< $0.01":"< 0.000000001":n&&(o=`$${e.toFixed(2)}`),o}function parseBool(e){return"string"==typeof e?"true"===e.toLowerCase():Boolean(e)}function trailingDoubleZero(e){return parseFloat(e).toString()}function trailingZero(e){return e.replace(/(\.0+|(?<=\.\d*)0+)$/,"")}function focusElement(e){const t="string"==typeof e?document.getElementById(e):e;t&&"function"==typeof t.focus&&t.focus()}function switchAgeToDateTime(e){"utc"===getCookie("multiblockscan_date-format")?(setCookie("multiblockscan_date-format","age",365),document.documentElement.setAttribute("data-date-format","age")):(setCookie("multiblockscan_date-format","utc",365),document.documentElement.setAttribute("data-date-format","utc"))}const cookiesBundle="multiblockscan_group";function getBundle(){let e=[];try{let t=getCookie(cookiesBundle);t&&(e=JSON.parse(t))}catch{}return e}function clearbundle(){setCookie(cookiesBundle,JSON.stringify([]),-1),refreshBundle()}function generateBundleImage(e,t){let n=getFixedValueFromGuid(e,10),r="fs-6",o="2rem",a="rounded";parseBool(t)&&(r="fs-3",o="3rem",a="rounded-3");let i="";switch(n){case 1:i=`<div class="content-center border border-warning border-opacity-15 ${a} ${r}" style="background-color: #fbecd7; height: ${o}; width: ${o};">üíº</div>`;break;case 2:i=`<div class="content-center border border-info border-opacity-10 ${a} ${r}" style="background-color: #e9f0f5; height: ${o}; width: ${o};">ü™ô</div>`;break;case 3:i=`<div class="content-center border border-warning border-opacity-15 ${a} ${r}" style="background-color: #faf1e2; height: ${o}; width: ${o};">üè†</div>`;break;case 4:i=`<div class="content-center border border-info border-opacity-10 ${a} ${r}" style="background-color: #deecf9; height: ${o}; width: ${o};">üíé</div>`;break;case 5:i=`<div class="content-center border border-warning border-opacity-15 ${a} ${r}" style="background-color: #faede5; height: ${o}; width: ${o};">üì¶</div>`;break;case 6:i=`<div class="content-center border border-info border-opacity-15 ${a} ${r}" style="background-color: #dcf4f5; height: ${o}; width: ${o};">üè¶</div>`;break;case 7:i=`<div class="content-center border border-success border-opacity-15 ${a} ${r}" style="background-color: #defcdf; height: ${o}; width: ${o};">üåø</div>`;break;case 8:i=`<div class="content-center border border-info border-opacity-15 ${a} ${r}" style="background-color: #def1fc; height: ${o}; width: ${o};">üåÄ</div>`;break;case 8:i=`<div class="content-center border border-danger border-opacity-15 ${a} ${r}" style="background-color: #fcdeea; height: ${o}; width: ${o};">üöÄ</div>`;break;default:i=`<div class="content-center border border-info border-opacity-15 ${a} ${r}" style="background-color: #def3fc; height: ${o}; width: ${o};">üåä</div>`}return i}function bundleContainerInit({id:e,searchPanel:t}){if(null===document.getElementById(e))return;const n=document.getElementById(e),r=document.getElementById(e).querySelector(".bundle-container");if(null===r)return;const o=parseInt(r.getAttribute("data-max-items"),10),a=r.querySelector(".items-container"),i=r.querySelector(".bundle-empty-message"),s=r.querySelector(".counter"),l=r.querySelector(".search-panel-container"),d=r.querySelector(".search-panel-container input"),c=r.closest(".modal-content").querySelector(".btn-create-bundle"),u=r.querySelector(".bundle-container-image");function m(e,t,n){if(a.childElementCount>=o)return;const r=a.querySelectorAll(".bundle-add-address[data-address]");if(r)for(let t=0;t<r.length;t++)if(e.toLowerCase()==r[t].dataset.address.toLowerCase())return;const s=document.createElement("div");s.className="rounded border p-2 d-flex align-items-center justify-content-between gap-1 mb-2",s.innerHTML=`\n                            <div data-address="${e}" class="d-flex align-items-start gap-2 overflow-hidden bundle-add-address">\n                                      <div><img class="rounded-pill blockie-img generic-img" src="/assets/svg/empty-token.svg" data-address="${e}" width="28" alt="Address" /></div>\n                              <div class="text-truncate">\n                                    ${t}\n                                        <div class="small text-muted">${n}</div>\n                              </div>\n                            </div>\n                            <a href="javascript:void(0)" class="js-remove-address text-secondary link-danger me-2">\n                              <i class="fas fa-circle-xmark"></i>\n                            </a>\n                          `,a.appendChild(s),g(),h(),a.childElementCount>0&&(i.style.display="none"),blockieImageInitialize()}function p(e){e.closest("div").remove(),g(),h(),0===a.childElementCount&&(i.style.display="block")}function g(){s.textContent=`${a.childElementCount}/${o} limit`}function h(){a.childElementCount>0?c.disabled=!1:c.disabled=!0}function f(e){let t=(new DOMParser).parseFromString(e,"text/html").body.textContent;r.querySelector(".bundle-container-name").value=t,r.querySelector("[data-bundle-name]").innerHTML=t||"&nbsp;"}return g(),h(),0===a.childElementCount&&(i.style.display="block"),l.addEventListener("click",(e=>{let t=e.target.closest(".js-address-list");if(t){const e=t.querySelector(".js-address-name").innerHTML,n=t.getAttribute("data-address");m(n,n,e==n?"Address":e)}})),a.addEventListener("click",(e=>{let t=e.target.closest(".js-remove-address");t&&p(t)})),d.addEventListener("keydown",(e=>{if(("Enter"===e.code||13===e.keyCode)&&d==document.activeElement){let n=r.querySelector(".auto-results-wrapper ul li.auto-selected"),o="";if(n)o=n.getAttribute("data-address"),m(o,o,"Address"),t.destroySearch();else{o=e.target.value;let n=r.querySelector(".auto-results-wrapper ul li");n&&n.getAttribute("data-address")?(o=n.getAttribute("data-address"),m(o,o,"Address"),t.destroySearch()):isValidAddress(o)&&(m(o,o,"Address"),t.destroySearch())}}})),{addAddress:m,removeAddress:p,setName:f,defaultContainer:function(e=!0){r.querySelector(".bundle-search-input").value="",t&&t.destroySearch(),f("My Group"),r.querySelector(".items-container").innerHTML="",r.querySelector(".bundle-empty-message").style.display="block",r.querySelector(".counter").innerHTML="0/10 limit",n.querySelector(".btn-create-bundle").disabled=!0,e&&(r.dataset.id=guidGenerator());let o=generateBundleImage(r.dataset.id,!0);u.innerHTML=o},getData:function(){let e=r.querySelector(".bundle-container-name").value,t=r.querySelectorAll(".bundle-add-address"),n={};return n.id=r.dataset.id,n.name=e,n.address=[],t.forEach((e=>{n.address.push(e.dataset.address)})),n}}}